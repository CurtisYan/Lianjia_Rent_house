🔧 技术改进：
cityChartAnalysis.js：全市级别数据分析，支持6种城市级图表
districtChartAnalysis.js：区域级别深度分析，支持8种区域级图表
ChartComponents.vue：智能图表组件，根据选择自动切换分析模式
Analysis.vue：优化的数据加载逻辑，支持智能降级和错误处理
📊 现在支持的功能：
城市级分析：区域对比、价格分布、户型热力图、流向分析等
区域级分析：小区排行、片区分布、详细价格分析、标签分析等
智能模式切换：根据用户选择自动显示不同粒度的图表
数据质量监控：实时评估数据完整性、准确性和新鲜度

1. 数据新鲜度
评估依据: 基于房源的实际维护时间字段
算法:
今天/刚刚更新: 100分
1天前: 90分
2天前: 85分
3天前: 80分
4-7天前: 60-75分（递减）
8-30天前: 30-70分
超过30天: 20分
意义: 反映数据的时效性，越新的数据质量越高
2. 数据准确性
评估依据: 多维度数据合理性检查
检查项目:
价格范围合理性（500-100000元）
面积范围合理性（5-1000㎡）
价格面积比合理性（10-1000元/㎡）
户型字段格式一致性（必须包含"室"或"厅"）
意义: 过滤掉明显异常的数据记录
3. 数据完整性
评估依据: 必填和可选字段的完整程度
必填字段（各20分）: 标题、区域、价格、面积、户型
可选字段（各5分）: 小区、朝向、楼层、标签
意义: 确保数据信息的丰富度和可用性


🔍 有效数据评判标准
第一层：初步过滤（isValidRecord方法）
异常数据过滤：
❌ 标题包含"独栋"的记录（独栋公寓异常数据）
❌ 区域包含"仅剩"的记录（如"仅剩3间"等错误数据）
❌ 地块信息包含"间在租"或"㎡"的记录（字段错位）
数值范围验证：
❌ 价格 ≤ 0 或 > 50,000元/月
❌ 面积 ≤ 0 或 > 1,000㎡
❌ 标题或区域字段为空
第二层：最终清洗（cleanData方法）
在通过第一层过滤后，还要满足：
✅ 记录对象存在且非空
✅ 标题(title)存在且非空
✅ 价格(price) > 0
✅ 面积(area) > 0
✅ 区域(district)存在且非空
✅ 户型(layout)存在且非空

preprocess_data.py 工作流程
1. 原始数据存储（main.py）
   └── ./data/houses_*.csv          (爬虫生成的原始数据)

2. 预处理脚本读取
   └── 扫描 ./data/ 目录下所有 houses_*.csv 文件

3. 数据清洗与标准化
   ├── 价格格式化 (500-50000元范围)
   ├── 面积标准化 (10-500㎡范围)  
   ├── 区域名称统一
   ├── 朝向标准化
   └── 过滤异常数据

4. 输出到前端目录
   └── ./ui/frontend/public/data/houses_*.csv  (前端可访问)



标签智能颜色：根据标签内容自动选择颜色：
🟣 紫色：精装、豪华、高端类标签
🟢 绿色：地铁、交通、便利类标签
🔴 红色：新上、首次出租类标签
🟠 橙色：价格优惠类标签
🔵 靛色：独立卫生间、公寓类标签
🟦 青色：家具家电配套类标签
🔵 蓝色：其他标签（默认）